# 스케줄링

<br>

## 스케줄러

- 어떤 프로세스에게 자원을 할당할지 결정하는 커널 모듈

### 장기 스케줄러

- 작업(job) 스케줄러
- **준비 큐에 넣을 프로세스를 선택하는 스케줄러**
    - 메모리와 디스크 사이의 스케줄링을 담당
    - 한정된 메모리에 많은 프로세스가 올라오게 되면 프로세스를 임시로 디스크로 저장
- 현대의 시분할 시스템에서는 사용되지 않음

### 중기 스케줄러

- **메모리에 적재된 프로세스 수를 관리하는 스케줄러**
    - 메모리에 프로세스가 너무 많아질 경우 각 프로세스에 할당되는 메모리가 적어지게 됨
    - 이 경우 봉쇄상태의 프로세스 메모리를 빼앗아 디스크의 스왑영역에 저장해버림(Swap out)
    - 만약 이래도 해결되지 않으면 준비 큐로 이동하는 프로세스까지 스왑 아웃 시킴

### 단기 스케줄러

- CPU 스케줄러
- **CPU를 할당할 프로세스를 선택하는 스케줄러**
- 준비 큐에 있는 프로세스를 스케줄링 알고리즘을 통해 선택

<br>

## CPU 스케줄링

- 준비 큐에 있는 프로세스를 스케줄링 알고리즘을 통해 선택
- 프로세스의 CPU 교체 과정에서 CPU 이용률을 최대화하기 위함
- CPU 스케줄링은 다음과 같은 상황에서 일어난다
    - `running -> ready` : 인터럽트 발생
    - `running -> terminated` : 프로세스 종료
    - `running -> blocked` : I/O 발생
    - `blocked -> running` : I/O 종료

### 선점 스케줄링

- 프로세스가 CPU를 점유하고 있어도 운영체제가 CPU를 강제로 빼앗을 수 있는 방식
- **장점**
    - 우선순위가 높은 프로세스를 빠르게 처리할 수 있음
    - 실시간 응답을 요구하는 시스템에 적합
- **단점**
    - 잦은 문맥교환으로 인해 오버헤드가 발생

### 비선점 스케줄링

- 프로세스가 CPU를 점유하고 있다면 이를 빼앗을 수 없는 방식
    - 프로세스 종료 or 대기 아니면 CPU를 계속 차지하고 있음
- **장점**
    - 응답시간 예측이 편함
    - 일괄처리에 적합
- **단점**
    - 우선순위가 높은 프로세스가 와도 계속 대기해야함

<br>


## 예상 질문

<br>

<details>
    <summary><b>스케줄러(스케줄링)의 종류에 대해 설명해주세요</b></summary>
    <br>
    스케줄러란 어떤 프로세스에게 자원을 할당할지 선택하는 커널 모듈입니다.<br>
    스케줄러는 장기, 중기, 단기 스케줄러 세가지 종류가 있습니다.<br>
    장기 스케줄러는 준비 큐에 넣을 프로세스를 선택하는 스케줄러로, 한정된 메모리에서 한번에 많은 프로세스가 올라오게 되면 프로세스를 임시로 디스크에 저장합니다.<br>
    중기 스케줄러는 메모리에 적재된 프로세스 수를 관리하는 스케줄러로, 메모리에 프로세스가 너무 많아질 경우 준비나 대기상태의 프로세스 메모리를 빼앗아 디스크로 swap out합니다.<br>
    단기 스케줄러는 CPU 스케줄러라고 불리며 준비 큐에서 CPU를 할당할 프로세스를 선택하는 역할을 합니다.
</details>

<br>

<details>
    <summary><b>CPU 스케줄링에 대해 설명해주세요</b></summary>
    <br>
    CPU 스케줄링이란 준비 큐에 있는 프로세스를 스케줄링 알고리즘을 통해 선택하여 CPU를 할당하는 작업을 말합니다.<br>
    빈번히 일어나는 프로세스의 CPU 교체 과정에서 CPU 이용률을 최대화하기 위해 사용됩니다.
</details>

<br>

<details>
    <summary><b>CPU 스케줄링의 발생 시점에 대해 설명해주세요</b></summary>
    <br>
    CPU 스케줄링은 네가지 상황에서 발생합니다.<br>
    인터럽트가 발생되어 프로세스가 실행상태에서 준비상태로 변경될 때, 실행상태의 프로세스가 종료될때, 실행상태의 프로세스가 입출력이 발생하여 대기 상태로 변경될 때, 대기상태의 프로세스가 입출력 작업이 완료되어 준비상태로 변경될 때 CPU 스케줄링이 발생하게 됩니다.
</details>

<br>

<details>
    <summary><b>CPU 스케줄링 종류에 대해 설명해주세요</b></summary>
    <br>
    CPU 스케줄링의 종류는 선점 방식과 비선점 방식 두가지가 있습니다.<br>
    선점 방식은 프로세스가 CPU를 점유하고 있어도 운영체제가 강제로 CPU를 빼앗을 수 있는 방식입니다.<br>
    따라서 우선순위가 높은 프로세스를 빠르게 실행할 수 있는 장점이 있어 실시간 응답 시스템에 적합하지만, 잦은 CPU 교체로 인한 문맥교환 발생으로 오버헤드가 발생하는 단점도 존재합니다.<br>
    비선점 방식은 프로세스가 CPU를 점유하고 있을때 이를 빼앗을 수 없는 방식입니다.<br>
    따라서 문맥교환이 자주 발생하지 않아 응답시간 예측이 쉽고, 일괄처리 시스템에 적합하지만, 빠르게 처리해야 하는 프로세스가 있어도 계속 대기해야 하는 단점이 있습니다.
</details>

<br>

## 참고링크

- https://kosaf04pyh.tistory.com/191
