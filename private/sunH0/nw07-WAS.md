## Web Server 과 WAS

### Web Server
HTTP를 통해 웹 브라우저에서 요청하는 HTML ,css, 이미지 등 정적인 데이터을 전송해주는 서비스 프로그램을 말한다. 대표적으로 NGIX, APACHE가 있다.

### WAS (Web Application Server)
웹 서버의 기능을 포함(HTTP 요청을 받을 수 있다.) 하고 DB 접속과 애플리케이션 로직 처리를 요구하는 동적인 컨텐츠를 제공하기 위해 만들어진 소프트웨터 프레임 워크이다. (미들웨어)
대표적으로 톰캣, Undertow, Jetty 가 있다.

**WAS의 역할 = Web Server + Web Container**

+) Container란 JSP, Servlet을 실행시킬 수 있는 소프트웨어를 말한다. 즉 WAS는 JSP, Servlet 구동 환경을 제공한다.
+) 미들웨어 : 운영 체제와 응용 소프트웨어의 중간에서 제공받는 서비스 이외에 추가적으로 이용할 수 있는 서비스를 제공하는 컴퓨터 소프트웨어이다.
+) 정적 컨텐츠는 요청 인자 값에 (상태) 상관없이 동일한 컨텐츠를 의미한다. 동적 컨텐츠는 요청 인자에 따라 바뀔수 있는 컨텐츠이다.

### WAS + Web Server
WAS가 동정, 정정 데이터 모두를 처리할 수 있는데 Web Server가 필요한 이유? -> 확장성, 안전성

- 책임을 분리하여 WAS의 서버 부하 방지
- 물리적으로 분리하여 보안 방지
  - SSL 암호화 처리에 앞단에 위치한 웹서버를 사용하여 중요한 정보가 담긴 DB, 로직까지 전파 공격이 전패 되지 못하게 한다.
- 여러 개의 서버를 사용하는 대용량 웹 애플리케이션의 경우 웹 서버와 WAS를 분리하여 무중단 운영을 위한 장애 극복에 쉽게 대응할 수 있다.
  - Load Balancing
  - fail over, fail back, Health check
- 다른 종류의 WAS로 서비스 가능
  - 예를 들어 하나의 서버에서 PHP와 JAVA를 함께 사용할 수 있다.

즉, 클라이언트의 동적인 요청(Request)을 웹 서버가 WAS에 보내고, WAS가 처리한 결과를 웹서버가 클라이언트에게 전달(응답, Response)한다. 웹 서버와 WAS는 소켓을 통해 통신한다.

### Servlet
클라이언트의 동적 요청을 처리하고, 그 결과를 반환하는 자바로 구현되어진 웹 어플리케이션 컴포넌트 또는 기술이다.
WebContainer는 웹 서버로부터 요청이 들어오면 스레드를 생성하고 서블릿 인터페이스를 통해 서블릿 구현체를 실행시킨다.  서블릿은 싱글톤으로 구현되어 있어 메모리를 공유하고 스레드마다 local 변수를 갖는다.
