# Network

🗂 Contents

1. [OSI 모델과 TCP/IP 모델](#OSI-모델와-TCP/IP-모델)
    - [기본 개념 정리](###기본-개념-정리)
    - [계층 모델의 장점](###계층-모델의-장점)
    - [OSI 모델](###OSI-모델)
        - [응용 계층 (application layer)](####응용-계층-(application-layer))
        - [표현 계층 (presentation layer)](####표현-계층-(presentation-layer))
        - [세션 계층 (session layer)](####세션-계층-(session-layer))
        - [전송 계층 (transport layer)](####전송-계층-(transport-layer))
        - [네트워크 계층 (network layer)](####네트워크-계층-(network-layer))
        - [데이터 링크 계층 (data link layer)](####데이터-링크-계층-(data-link-layer))
        - [물리 계층 (physical layer)](####물리-계층-(physical-layer))
    - [TCP/IP 모델](###TCP/IP-모델)
        - [네트워크 인터페이스 계층 (network layer)](####네트워크-인터페이스-계층-(network-layer))
        - [인터넷 계층 (internet layer)](####인터넷-계층-(internet-layer))
        - [전송 계층 (transport layer)](####전송-계층-(transport-layer))
        - [응용 계층 (application layer)](####응용-계층-(application-layer))
    - [OSI 모델과 TCP/IP 차이점](###OSI-모델과-TCP/IP-차이점)
    
# OSI 모델와 TCP/IP 모델

### 기본 개념 정리

![image](https://user-images.githubusercontent.com/88185304/150045680-b758fcee-56f0-43f0-8c87-0c34e7522907.png)

- Encapsulation는 발신 컴퓨터에서 발생합니다. 프로토콜 정보가 데이터에 추가되는 과정을 의미합니다.
- Decapsulation 수신 컴퓨터에서 발생합니다. Decapsulation 프로세스에서 캡슐화 과정에서 붙은 헤더와 트레일러가 제거됩니다.
- 헤더란 데이터 앞에 추가된 정보를 의미하고, 트레일러는 데이터 뒤에 추가된 정보를 의미합니다.
- 순서 제어는 전송되는 데이터의 순서를 조율하고 이를 통해 데이터가 중복되거나 유실되는지 확인하는 것을 의미합니다.
- 흐름 제어 : 송신되어 데이터의 양과 전송률을 제한하는 기능을 의미합니다.
- 오류 제어 : 데이터가 올바르게 수신되었는지 에러 검출 코드를 통해 체크하는 기능을 의미합니다.
- 계층 별 PDU (OSI 7계층에서 PDU(Process Data Unit)란 각 계층에서 전송되는 단위)

    ![image](https://user-images.githubusercontent.com/88185304/150050471-5a990ddf-6db0-400b-a1d4-f89c625f1b4e.png)

    - 1계층 : Bits
    - 2계층 : Frames
    - 3계층 : Packets
    - 4계층 : Segments
    - 5~7계층 : Data


### 계층 모델의 장점

- 데이터 흐름을 한 눈에 파악하기 쉽습니다.
- 표준화된 규칙을 기반으로 하기 떄문에 다른 제조사 장비들끼리도 통신이 가능합니다.
- 장애 처리시, 계층별로 체크하면 되기 때문에 장애 대응에 유리합니다.
- 다른 계층끼리는 각 전달 과정을 알 필요 없이 자신의 계층에만 집중하면 됩니다. 따라서 캡슐화와 은닉이 가능합니다.


### OSI 모델

OSI(Open System interconnection) 7계층 : 2개의 시스템이 연결하기 위해서 일련의 절차들을 7단계로 나눈 것을 의미합니다.

![image](https://user-images.githubusercontent.com/88185304/150044571-e4747d4c-2e64-4ebb-80a6-31914e733540.png)

#### 응용 계층 (application layer)

    application을 편지지라고 가정했을 때, 편지지를 활용하여 편지를 작성할 수 있는 계층이라고 할 수 있습니다.

- 사용자와 가장 밀접한 계층으로 인터페이스 역할을 담당합니다.
- 응용 프로세스 간의 정보 교환을 담당합니다.
- 사용자에게 보이는 유일한 계층입니다.

#### 표현 계층 (presentation layer)

    말 그대로 표현하는 계층입니다. 내가 영어로 편지를 쓸지, 한국어로 편지를 쓸지 정하여 표현하는 계층입니다. 내가 영어로 쓴 편지를 상대방이 읽으려면, 제가 어떤 언어로 작성했는지 알아야겠쥬?

- 데이터를 어떻게 표현할지 결정하는 역할을 합니다. (데이터의 형식 결정)
- 송신자에게서 온 데이터를 해석하기 위한 데이터 부호화, 변화 담당합니다.
- 데이터의 인코딩, 디코딩 담당을 당담합니다.
- 데이터의 암호화, 복호화 담당을 당담합니다.

#### 세션 계층 (session layer)

    어떤 방식으로 편지를 주고 받을 지 정하는 겁니다. 예를 들어, 편지를 보내는 이와 받는 이가 채팅처럼 주고 받을지, 알림처럼 보내는 이만 전달을 할지, 썅방으로 막 보낼지를 정해야 합니다. 

- 통신 장치 간 상호작용 및 동기화를 당담합니다.
- 연결 세션에서 데이터 교환과 에러 발생시 복구를 관리합니다.
- OS가 세션 계층에 속합니다.

#### 전송 계층 (transport layer)

    우체국에 가서 편지를 부치고자 합니다. 편지 봉투에 누가 보냈고 누가 받는지 적습니다. 이때 적는 내용은 port 정보를 적습니다. 그리고 우체국 직원에게 일반으로 보낼지 등기로 보낼지를 정하여 말씀드려야 합니다.

- 종단 간 신뢰성 있고 정확한 데이터 전송을 담당합니다.
- 데이터 전송을 위해 Port 번호 사용합니다.
- 주로 TCP, UDP 프로토콜을 사용합니다.
- 송신자와 수신자 간의 신뢰성있고 효율적인 데이터 전송을 위해 오류 검출 및 복구, 흐름제어와 중복검사등 수행합니다.

#### 네트워크 계층 (network layer)

    편지 봉투에 구체적인 주소(ip)를 적는 단게입니다. 본 편지가 어느 경로를 통해서 이동해야 하는지에 대한 정보를 주소는 담고 있어야 합니다. (to 서울시 영등포구 당산로 .. 로 적힌 편지의 이동 : 서울특별시 -> 영등포구 -> 당산로 -> ... )

- 라우팅(Routing)기능을 담당합니다. 즉, 목적지까지 가장 빠르고 안전하게 데이터를 보낼 최적의 경로를 설정하는 역할을 합니다.  
- 주소(IP)를 정하고 경로(Route)를 선택해 패킷(packet)을 전달합니다.

    - 패킷이란?
        정보 기술에서 패킷 방식의 컴퓨터 네트워크가 전달하는 데이터의 형식화된 블록입니다. 패킷은 제어 정보와 사용자 데이터로 이루어지며, 이는 페이로드라고도 합니다. 패킷을 지원하지 않는 컴퓨터 통신 연결은 단순히 바이트, 문자열, 비트를 독립적으로 연속하여 데이터를 전송합니다. 데이터가 패킷으로 형식이 바뀔 때, 네트워크는 장문 메시지를 더 효과적이고 신뢰성 있게 보낼 수 있습니다.

#### 데이터 링크 계층 (data link layer)

    편지가 건물까지 도착!! 어? 근데 몇 층이고 몇 번지지?

- 물리적인 연결을 통하여 인접한 두 장치의 신뢰성 있는 정보 전송을 담당합니다.
- MAC 주소를 통해서 통신합니다.
- 헤더에는 수신 측에 프레임이 도착했음을 알리는 비트(Preamble)가 있고, 트레일러에는 프레임의 끝을 나타내는 비트와 오류를 제어하는 비트(FCS) 등이 있습니다.
- 한 번에 전송할 데이터양을 조절하고, 연속으로 프레임을 전송할 때 수신 여부를 확인하는 기능을 수행합니다.
- 허브를 사용(LAN 통신)하면 데이터 간의 충돌이 발생하는데 이를 제어하기 위해 CSMA/CD를 사용합니다.

    - 스위치란?
        - 데이터 링크 계층의 네트워크 접속 장치입니다.
        - MAC 주소 테이블(브릿지 테이블)이 있는데 이 테이블은 스위치의 포트 번호와 해당 포트에 연결되어 있는 컴퓨터의 MAC 주소가 등록되어 있는 데이터베이스입니다.

#### 물리 계층 (physical layer)

- 전기적 신호 처리합니다.
- 프레임(Frame)이라는 단위를 사용합니다.
- 신호의 전기적 특성과 데이터 전송에 필요한 순서를 정의합니다.
- 단지 데이터 전달의 역할을 할 뿐, 알고리즘이나 오류제어 기능이 없습니다.


### TCP/IP 모델

OSI 7계층 보다 조금 간소화된 모델이라고 볼 수 있습니다. 그러나 OSI 모델로부터 진화한 계층 모델이 아닌, TCP/IP 모델은 그 자체의 별도의 모델이라고 볼 수 있습니다.(심지어 OSI 모델보다 TCP/IP가 먼저 등장하였습니다.) 또한 SSL, TLS을 설명하고자 할 때는 TCP/IP 모델이 OSI 보다 더 잘 들어맞을 수 있습니다. 

![image](https://user-images.githubusercontent.com/88185304/150044726-3b7bfef2-753c-4175-b744-d02f5aaa8012.png)

#### 네트워크 인터페이스 계층 (network layer)

- OSI 모델에서 물리 계층과 데이터 링크 계층에 해당하는 계층입니다. 
- 네트워크 드라이버와 같은 물리적 TCP/IP  패킷의 전달 및 수신 과정에 대해 담당하고 있는 계층입니다. 

#### 인터넷 계층 (internet layer)

- OSI 모델에서 네트워크 계층과 대응되는 계층입니다. 
- 논리적인 주소인 ip 주소를 판독하고 목적지의 네트워크를 찾아가서 해당 목적지(host)가 잘 받을 수 있도록 전송하는 역할만 합니다.

#### 전송 계층 (transport layer)

- OSI 모델에서 전송 계층과 동일한 계층입니다. 
- 전달되는 패킷의 오류를 검사하고 재전송을 요구하는 등의 전반적인 제어를 담당하는 계층입니다.

#### 응용 계층 (application layer)

- OSI 모델에서 네트워크 계층과 대응되는 계층입니다. 
- 사용자의 응용프로그램 레벨에서 데이터를 처리하는 계층입니다. 하위계층으로부터 받은 메시지를 변환하거나, 하위 걔충으로 메시지를 전달합니다. 


### OSI 모델과 TCP/IP 차이점

-  TCP/IP는 클라이언트-서버 모델입니다. 즉, 클라이언트가 서비스를 요청하면 서버가 제공합니다. 반면 OSI는 개념 모델입니다.
-  TCP/IP는 인터넷을 포함한 모든 네트워크에 사용되는 표준 프로토콜이지만 OSI는 프로토콜이 아니라 시스템 아키텍처를 이해하고 설계하는 데 사용되는 참조 모델입니다.
-  TCP/IP는 4 개의 계층 모델이며, OSI는 7 개의 계층을 가지고 있습니다.
-  TCP/IP는 수직 접근 방식을 따릅니다. 한편, OSI 모델은 수평 적 접근을 지원합니다.
-  TCP/IP는 위에서 아래로의 접근 방식을 따르는 반면 OSI 모델은 상향식 접근 방식을 따릅니다.



</br></br>


## 출처
- https://www.youtube.com/watch?v=aTPy201F0AA
- https://www.computernetworkingnotes.com/ccna-study-guide/data-encapsulation-and-de-encapsulation-explained.html
- https://velog.io/@inyong_pang/OSI-7-%EA%B3%84%EC%B8%B5%EA%B3%BC-TCPIP-%EA%B3%84%EC%B8%B5
- https://code-lab1.tistory.com/18
- https://ko.wikipedia.org/wiki/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%8C%A8%ED%82%B7
- https://velog.io/@inyong_pang/OSI-7-%EA%B3%84%EC%B8%B5%EA%B3%BC-TCPIP-%EA%B3%84%EC%B8%B5
- https://ko.gadget-info.com/difference-between-tcp-ip
- https://www.stevenjlee.net/2020/02/09/%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-osi-7%EA%B3%84%EC%B8%B5-%EA%B7%B8%EB%A6%AC%EA%B3%A0-tcp-ip-4%EA%B3%84%EC%B8%B5/