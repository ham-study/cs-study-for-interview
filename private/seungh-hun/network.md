# Network
:open_book: Contents
- [Network](#network)
  - [OSI 7계층](#osi-7계층)
    - [1계층(피지컬 계층)](#1계층피지컬-계층)
    - [2계층(데이터 링크 계층)](#2계층데이터-링크-계층)
    - [3계층(네트워크 계층)](#3계층네트워크-계층)
    - [4계층(트랜스포트 계층)](#4계층트랜스포트-계층)
    - [5계층(세션 계층)](#5계층세션-계층)
    - [6계층(프레젠테이션 계층)](#6계층프레젠테이션-계층)
    - [7계층(애플리케이션 계층)](#7계층애플리케이션-계층)
    - [인캡슐레이션과 디캡슐레이션](#인캡슐레이션과-디캡슐레이션)
    - [TCP/IP](#tcpip)

---

## OSI 7계층


<p align=middle>
    <img src=https://user-images.githubusercontent.com/60502370/149924509-b280d9b2-f44a-4fe9-8ed1-3cc3f310c10d.png width=700>
</p>

- 5 ~ 7계층: 애플리케이션 계층, 상위 계층
  - 데이터를 잘 표현하는 역할
- 1 ~ 4계층: 데이터 플로 계층, 하위 계층
  - 데이터를 상대방에게 잘 전달하는 역할

### 1계층(피지컬 계층)
- 물리 계층으로 물리적 연결과 관련된 정보를 정의한다.
- 주로 전기 신호를 전달하는 데 초점이 맞추어져있다.
- 주요 장비로 허브, 리피터, 케이블, 커넥터, 트랜시버, 탭이 있다
- 주소의 개념이 없어 전기 신호가 들어온 포트를 제외하고 모든 포트에 같은 전기 신호를 전송한다

### 2계층(데이터 링크 계층)
- 전기 신호를 모아 알아볼 수 있는 데이터 형태로 처리한다
- 주소 정보를 정의하고 정확한 주소로 통신이 이루어지는 데 초점이 맞추어져 있다
- 출발지와 도착지 정보를 확인하고 데이터를 처리하거나 폐기한다
- MAC 주소 체계를 가진다
- 주요 장비로 네트워크 인터페이스 카드와 스위치가 있다.
- 스위치는 MAC 주소를 보고 통신해야 할 포트를 지정해 보낸다

### 3계층(네트워크 계층)
- IP주소와 같은 논리적 주소가 정의된다.
- IP주소는 사용자가 환경에 맞게 변경해 사용할 수 있고, 네트워크 주소와 호스트 주소 부분으로 나뉜다
- 주요 장비로는 라우터가 있다.
  - 라우터는 IP 주소를 이해하고, IP 주소를 이용하여 최적의 경로를 찾아주고 그 경로로 패킷을 전송한다

### 4계층(트랜스포트 계층)
- 데이터들이 정상적으로 잘 보내지도록 확인하는 역할을 한다
  - 1 ~ 3계층은 데이터를 올바른 위치로 보내고 신호를 잘 만들어내는데 집중한다
- 중간에 패킷이 유실되거나 순서가 뒤바뀌는 것을 바로잡아준다
- 주요 장비로 로드 밸런서와 방화벽이 있다.
- 패킷에 보내는 순서를 명시한 것이 시퀀스 번호, 받는 순서를 나타낸 것이 ACK 번호이다.
- 장치 내의 많은 애플리케이션을 구분할 수 있도록 포트 번호를 사용한다

### 5계층(세션 계층)
- 양 끝단의 응용 프로세스가 연결을 성립하고 유지하고 종료하는 역할을 한다
- TCP/IP 세션을 만들고 없애는 책임을 진다
- 에러로 중단된 통신에 대한 에러 복구와 재전송도 수행한다

### 6계층(프레젠테이션 계층)
- 애플리케이션이나 시스템 간 통신을 돕기 위해 하나의 통일된 구문 형식으로 변환시키는 기능을 수행한다
- 응용 계층에서 데이터의 형식상 차이를 다루는 부담을 덜어준다
- MIME 인코딩, 암호화, 압축, 코드 변환과 같은 동작이 이루어진다

### 7계층(애플리케이션 계층)
- 애플리케이션 프로세스를 정의하고 애플리케이션 서비스를 수행한다.
- FTP, HTTP, SMTP, TELNET 같은 프로토콜이 있다

### 인캡슐레이션과 디캡슐레이션

<p align=middle>
    <img src=https://user-images.githubusercontent.com/60502370/149927589-a1f2bb01-e6f6-425c-963d-d3c27ccb9fe4.png width=700>
</p>

- 인캡슐레이션: 데이터를 내보내는 과정
- 디캡슐레이션: 데이터를 받는 과정

송신측에서는 데이터가 계층을 내려가면서 헤더에 정보가 추가되고, 수신측에서는 계층을 올라가면서 각 계층에서 헤더 정보를 읽으며 벗겨낸다. 헤더에는 반드시 두 가지 정보는 포함되어야 한다.

- 현재 계층에서 정의하는 정보
- 상위 프로토콜 지시자
  - 2계층: MAC 주소
  - 3계층: IP 주소
  - 4계층: 포트 번호

<p align=middle>
    <img src=https://user-images.githubusercontent.com/60502370/149928222-ac677753-683b-4f9a-a474-76fb7f80326f.png width=700>
</p>

인캡슐레이션 과정에서는 상위 프토콜지시자가 필요없지만, 디캡슐레이션 하면서 어떤 상위 프로토콜로 올려보내야 할지 결정하기위해 상위 프로토콜 지시자가 필요하다.

### TCP/IP

<p align=middle>
    <img src=https://user-images.githubusercontent.com/60502370/149928544-2629dd3b-d53e-41f4-9b77-d72230120b12.png width=700>
</p>

TCP/IP는 이론보다 실용성에 중점을 프로토콜이다. OSI 레퍼런스 모델은 7계층으로 이루어진 반면에 TCP/IP 모델은 4계층으로 구분한다. 이는 데이터를 만드는 애플리케이션 부분과 데이터를 잘 전달하는 데 집중하는 하부 계층으로 구분하는 것이 목적이었다.

TCP/IP 프로토콜은 상위 3개의 계층을 하나로 묶고, 물리 계층과 데이터 링크 계층을 하나의 네트워크 계층으로 구분한다.