# HTTP란?

HTTP 란 웹 상에서 서버와 클라이언트가 데이터를 주고 받기 위한 프로토콜입니다. HTTP는 애플리케이션 레벨의 프로토콜로 TCP/IP 위에서 작동합니다. HTTP는 상태를 가지고 있지 않은 Stateless 프로토콜이며 Method, Path, Version, Headers, Body 등으로 구성됩니다.



Stateless : 서버가 클라이언트의 상태를 보존하지 않습니다. 따라서, 서버 확장성 높다는(스케일 아웃) 장점이 있지만 클라이언트가 추가 데이터를 전송해야 한다는 단점도 있습니다.



### HTTP 메시지



![A basic HTTP request](https://mdn.mozillademos.org/files/13687/HTTP_Request.png)

요청 구성 요소

- HTTP 메서드, 보통 클라이언트가 수행하고자 하는 동작을 정의한 GET, POST 같은 동사입니다.
- 가져오려는 리소스의 경로
- HTTP 프로토콜 버전
- 서버에 대한 추가 정보를 전달하는 헤더들
- POST와 같은 몇 가지 메서드를 위한, 바디 부분



![img](https://mdn.mozillademos.org/files/13691/HTTP_Response.png)

응답 구성 요소

- HTTP 프로토콜 버전
- 요청의 성공 여부와, 그 이유를 나타내는 상태 코드
- 상태 코드의 짧은 설명을 나타내는 상태 메시지
- HTTP 헤더들
- 리소스가 포함되는 바디 부분



# HTTP status code

200번대의 상태 코드는 성공을 의미합니다.

- 200 : OK
- 204 : No Content. 성공했으나 응답 데이터는 없음
- 205 : Reset Content. 성공했으나 클라이언트의 화면을 새로 고침하도록 권고
- 206 : Partial Content. 성공했으나 일부 데이터만 반환



300번대의 상태 코드는 새 URL로 리다이렉트를 유도합니다.

- 301 : Moved Permanently. 요청한 자원이 새 URL에 존재



400 번대 상태 코드는 클라이언트의 잘못된 요청을 의미합니다. 유효하지 않은 자원을 요청했거나, 요청의 권한이 없는 경우 발생합니다.

- 400 : Bad Request. 잘못된 요청
- 401 : Unauthorized. 권한 없이 요청. Authorization 헤더가 잘못된 경우
- 403 : Forbidden. 해당 자원에 대한 접근 권한 없음
- 404 : Not Found. 해당 자원이 없음
- 405 : Method Not Allowed. 허용되지 않은 요청 메서드



500 번대 상태 코드는 서버 오류를 의미합니다.

- 501 : Not Implemented. 요청한 동작을 서버가 수행할 수 없음
- 503 : Service Unavailable. 서버가 과부하 또는 유지 보수로 내려간 경우



# HTTP method

- GET : 리소스 조회
- POST : 요청 데이터 처리, 주로 신규 데이터 등록에 사용
- PUT : 리소스를 대체, 해당 리소스가 없으면 생성
- PATCH : 리소스를 일부만 변경
- DELETE : 리소스 삭제



GET은 리소스를 조회하기 위해 사용되는 방식으로 데이터를 헤더에 추가하여 전송하는 방식입니다. URL에 데이터가 노출되기 때문에 보안적으로 중요한 데이터를 포함해서는 안됩니다. 



POST는 주로 신규 리소스를 추가하거나 프로세스 처리에 사용되는 방식으로 데이터를 body에 추가하여 전송하는 방식입니다.



PUT 메서드는 요청한 URI에 자원이 존재하지 않는 경우는 POST처럼 새롭게 저장합니다. 반대로 요청한 URI에 자원이 존재하는 경우에는 페이로드에 담긴 정보를 이용해서 새로운 자원을 만들어 기존의 자원을 대체합니다.

PUT 메서드를 사용할 때 전송하는 payload 만으로 자원의 전체 상태를 나타낼 수 있어야 합니다. 만약 PUT 메서드로 전달 받은 페이로드가 기존 정보를 대체하도록 구현한 경우 페이로드 정보가 불완전한 상태로 전송된다면 일부 Entity의 필드값들은 null이 될 수가 있습니다.



PATCH는 자원에 대한 부분적인 수정을 적용하기 위한 메서드입니다. 



DELETE는 자원을 삭제하는 메소드입니다.



### 멱등 (Idempotent)

- 메소드를 여러 번 호출해도 한 번 호출한 것과 결과가 같다는 뜻입니다. GET이나 PUT DELETE는 멱등하지만 POST는 멱등하지 않습니다.

