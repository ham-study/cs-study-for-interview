CPU 스케줄링이란 CPU 자원을 어떤 프로세스에 얼마나 할당할지 정책을 만드는 것입니다. 스케줄러는 크게 장기 스케줄러, 단기 스케줄러, 중기 스케줄러가 있습니다.



**언제 스케줄 해야 하는가?**

스케줄링이 필요한 상황은 네 가지가 있습니다.

첫째, 새로운 프로세스를 만들 때 자식과 부모 프로세스 중 어떤 것을 먼저 실행할지 결정해야 합니다.

둘째, 프로세스를 종료할 때 준비상태의 다른 프로세스를 선택해야 합니다.

셋째, 프로세스가 I/O 등의 요청으로 대기해야 할 때 다음에 실행할 프로세스를 선택해야 합니다.

넷째, I/O인터럽트가 발생하는 경우 스케줄링 결정을 내려야 합니다.



(I/O 인터럽트 상황 보충설명)

I/O인터럽트가 발생한 경우 이는 I/O를 기다리며 블록된 어떤 프로세스가 실행될 준비가 되었음을 의미합니다. 다음에 수행할 프로세스로 새로 준비 상태가 된 프로세스를 선택할 것인지, 인터럽트가 발생할 때 실행 중이던 프로세스를 선택할 것인지, 아니면 제 삼의 프로세스를 선택할 것인지 선택해야 합니다.



**선점형 스케줄링**

선점형 스케줄링은 어떤 프로세스가 CPU를 할당받아 실행하고 있어도 우선순위가 더 높은 프로세스가 CPU를 강제로 빼앗을 수 있는 기법입니다. 그리고 선점으로 인한 오버헤드가 발생하고 시간 배당을 위한 인터럽트용 타이머 클럭이 필요합니다.

선점형 스케줄링은 주로 빠른 응답시간을 요구하는 시스템에서 사용됩니다. 종류로는 SRT, 선점 우선순위, Round Robin, 다단계 큐 등이 있습니다.



**비선점 스케줄링**

비선점 스케줄링은 이미 할당된 CPU를 다른 프로세스가 강제로 빼앗을 수 없는 기법입니다.

비선점 스케줄링 알고리즘에서는 어떤 프로세스가 running 상태가 되면 이 프로세스는 I/O또는 다른 프로세스를 기다리거나 자발적으로 CPU를 반활할 때까지 계속 수행할 수 있습니다. 모든 프로세스를 공정하게 처리할 수 있지만, 짧은 작업의 프로세스가 다른 프로세스 종료까지 오래 대기해야할 수도 있습니다. 종류로는 FIFO, SJF, 우선순위, HRN, 기한부 등이 있습니다.



### 장기 스케줄링 : 어떤 프로세스를 준비 큐에 넣을 것인가

메모리는 한정되어 있는데 많은 프로그램들을 메모리에 올리려 할 때, 프로그램들은 디스크에 임시로 저장됩니다. 이 디스크에 저장되어 있는 프로그램 중 어떤 프로세스를 메모리에 할당하여 ready Queue로 보낼지 결정합니다.

하지만 현대의 시분할 시스템에서 사용되는 운영체제는 일반적으로 장기 스케줄링을 하지 않습니다. 메모리 성능이 좋아져서 장기 스케줄링 없이 바로 프로세스에 메모리를 할당해 준비 큐에 넣어주게 됩니다.



### 중기 스케줄링 : 메모리에 적재된 프로세스 수 관리

중기 스케줄러는 메모리에 너무 많은 프로세스가 동시에 올라가는 것을 조절하는 스케줄러입니다. 메모리의 여유공간을 마련하기 위해서 프로세스를 통째로 메모리에서 디스크를 내보냅니다. 스와핑이 된다면, 해당 프로세스의 상태는 suspended상태가 됩니다.

이런 개념이 현재는 가상 메모리로 대체되어 중기 스케줄링 또한 사용되지 않습니다.



### 단기 스케줄링 : 어떤 프로세스에게 cpu를 할당해 줄것인가

CPU와 메모리 사이의 스케줄링을 담당합니다. Ready Queue에 있는 프로세스 중 어떤 프로세스를 실행시킬지 결정합니다. 프로세스에 CPU가 할당되면, 프로세스는 ready에서 running 상태가 됩니다.