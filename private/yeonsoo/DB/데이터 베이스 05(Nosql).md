## NoSQL

RDBMS의 형태가 아닌 비관계형 모델을 이용하는 데이터 저장이다.

빅데이터의 등장으로 인해 데이터와 트래픽이 기하급수적으로 증가함에 다라 RDBMS에 단점인 성능을 향상 시키기 위해서 사용되었다.

다양한 형태의 저장 기술로 RDBMS 스키마에 맞추어 데이터를 관리해야 된다는 한계를 극복하고 수평적 확장을 쉽게 할 수 있다.

**종류**

1. Key-Value 데이터 베이스
    
    
    - 데이터가 key-value 쌍으로 저장된다.
    - value는 어떠한 형태의 데이터라도 담을 수 있다.
    - 질의 속도가 빠르다.
    - ex)Redis, Riak, Amazon Dynamo DB
2. Document 데이터 베이스
    - key-document의 형태로 저장된다.
    - 계층적인 형태인 documnet로 저장된다.
    - 객체 지향에서의 객체와 유사하여 하나의 객체를 여러개의 테이블에 나눠 저장할 필요가 없다.
    - 객체를 document의 형태로 저장 가능하기 때문에 객체-관계 매핑이 필요하지 않다.
3. Column-based 데이터 베이스

    - sql이 테이블의 데이터를 레코드 단위로 디스크내에 연속적으로 저장하는 것과는 달리 열별로 연속적으로 저장하는 것을 특징으로 한다.
    - ex) HBase, Hypertable
4. Graph 데이터 베이스
    - 데이터를 노드와 엣지 property와 함께 그래프 구조를 사용하여 데이터를 표현하고 저장하는 데이터 베이스이다.
    - 개체와 관계를 그래프 형태로 표현한 것이므로 관계형 모델이라고 할 수 있다.
    - 데이터 간의 관계가 탐색의 키일 경우 적합하다.
    - 연관된 데이터를 추천해주는 추천 엔진이나 패턴 인식등의 데이터 베이스로 적합하다.

**장점**

- 스키마가 없기 때문에 유연하고 자유로운 데이터 구조를 가질 수 있다. 이로 인해 언제든지 저장된 데이터를 조정하고 새로운 필드를 추가할 수 있다.
- 데이터 분산이 용이하여 성능 향상을 위한 스케일 업 뿐만 아니라 스케일 아웃 또한 가능하다.

**단점**

- 데이터 중복이 발생할 수 있으며 중복된 데이터가 변경될 경우 모든 컬렉션에서 변경을 해주어야한다.
- 스키마가 존재하지 않기 때문에 명확한 데이터 구조를 보장하지 않으며 데이터 구조 결정하는 것이 어려울 수 있다.
- 트랜잭션 처리가 불가능하여 데이터 업데이트 중 장애가 발생하면 데이터 손실 발생 가능하다.

## RDB VS NoSQL

1. 모델
    - RDB: 고정 행과 열이 있는 테이블 형태
    - NOSQL: Key-Value 데이터 베이스,Document 데이터 베이스,Wide Column 데이터 베이스,Graph 데이터 베이스
2. 확장
    - RDB: 스케일 업
    - NOSQL: 스케일 업, 아웃
3. ACID
    - RDB: 지원함
    - NOSQL: 지원하지 않음, MongeDB등 일부 기능을 지원하는 경우도 있음
4. JOIN
    - RDB: 필요함
    - NOSQL: 필요하지 않음
5. data-object
    - RDB: ORM이 필요하다.
    - NOSQL: ORM이 필요하지 않고 프로그래밍 언어를 통해 데이터 구조에 직접 매핑된다.(Ex.MongoDB document)

### 결론

- RDMS
    - 데이터 구조가 명확하며 변경될 여지가 없어 명확한 스키마가 더 중요한 경우 사용하는 것이 좋다.
    - 중복된 데이터가 없어 변경이 용이하기 때문에 관계를 맺고 있는 데이터가 자주 변경이 이루어지는 시스템에 적합하다.
- NoSQL
    - 정확한 데이터 구조를 알 수 없고 데이터가 변경, 확장이 될 수 있는 경우에 사용하는 것이 좋다.
    - update가 많이 이루어지지 않는 경우에 적합하다.
    - 데이터 베이스를 스케일 아웃해야하는 시스템에 적합하다.

## Redis

redis는 키- value 저장소로서 문자열, 리스트, 해시, 셋 , 정렬 셋 형식의 컬렉션을 지원하는 Nosql이다. 

다양한 자료구조를 지원하여 개발의 편의성이 좋아지고 난이도가 낮아지고, 데이터를 메모리에 저장하기 때문에 IO 부담이 줄어 데이터 조회 속도가 빠른 것이 특징이다.

(어떤 데이터를 정렬해야할 때 일반 dbms를 사용하면 db에 데이터를 저장하고, 저장된 데이터를 정렬하여 다시 읽어야한다. 하지만 redis를 이용하면 sorted-set을 이용하여 빠르고 간단하게 데이터를 정렬할 수 있다.)

**특징**

1. 키- 값 기반이기 때문에 쿼리 없이 결과를 가져올 수 있다.
2. 디스크에 데이터를 쓰는 구조가 아니라 메모리에서 데이터를 처리하기 때문에 속도가 빠르다.
3. 영속성을 지원하여 서버가 꺼지더라도 다시 데이터를 불러올 수 있다.
4. 문자열, 리스트, 해시, 셋, 정렬된 셋과 같은  다양한 데이터형을 지원한다.
5. 싱글 스레드로 한번에 하나의 명령만 처리할 수 있다. 따라서 중간에 처리 시간이 긴 명령어가 들어오면 그 뒤에 명령어들은 모두 앞에 있는 명령어가 처리될 때까지 대기가 필요하다.