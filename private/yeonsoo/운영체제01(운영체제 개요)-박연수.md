## 운영체제 소개

---

**운영체제 정의**

> 운영체제는 사용자에게 편리한 인터페이스 환경을 제공하고 컴퓨터 시스템의 자원을 효율적으로 관리하는 소프트웨어
> 

- 운영체제는 **사용자와 하드웨어간의 인터페이스**로서 동작하는 시스템 소프트 웨어 일종으로 다른 응용프로그램이 유용한 작업을 할 수 있도록 도와준다

**운영체제 필요성**

> 초기 컴퓨터는 정해진 기능만 수행했기 때문에 특별한 사용 규칙이 필요없었다, 하지만 요구하는 **기능들이 많아지고 복잡해지면서 규칙이 필요해졌다**. 이런 역할을 해주는 것이 운영체제다
> 

1. 프로그램의 성능향상
    1. 운영체제가 없다면 만들 당시 구현한 기능만을 수행한다.
    2. 다른 기능을 추가하여 성능 향상을 할 수 없다.
    
    ex. 정해진 계산만이 가능한 기계
    
2. 자원관리
    
   ![](https://images.velog.io/images/pinoa1228/post/8247b57b-057a-407b-9903-be73b0dac617/image.png)
    
    - 운영체제는 사용자에게는 모든 컴퓨터 자원을 숨기고 **정해진 방법으로만 컴퓨터 자원을 사용**할 수 있도록 제한한다.
    - 응용 프로그램에게 컴퓨터 자원을 적절히 나누어 준다.
    

**운영체제 역할**

1. 자원 관리 : 응용 프로그램에 컴퓨터 자원을 나누어주어 사용자가 원활하게 작업을할 수 있도록 돕는다.
2. 자원 보호: 사용자로부터 자원을 보호하는 것도 매우 중요
3. 하드웨어 인터페이스 제공: 다양한 장치를 사용할 수 있도록 해주는 하드웨어 인터페이스를 제공
4. 사용자 인터페이스 제공: 사용자가 운영체제를 편리하게 사용하도록 지원

## 운영체제 구조

---

`운영체제`는 **커널과 쉘(인터페이스)**로 이루어져 있다.

![](https://images.velog.io/images/pinoa1228/post/e8ce6a77-3728-488d-b1a1-419a1ec1d747/image.png)

**커널과 쉘**

> `커널`: 메모리에 적재되어 메모리에 상주하는 프로세스 관리, 메모리 관리, 저장장치 관리와 같은 운영체제의 **핵심적인 기능**을 모아 놓은 것으로  **입출력을 관리**하고 소프트웨어로부터의 요청을 받아 **필요한 컴퓨터의 자원을 할당**해주는 역할을 한다.
> 

> `쉘`:  사용자가 운영체제에 접근하기 위해서 반드시 거쳐야 한다. 쉘은 사용자가 터미널에서 **입력한 명령을 해석하고 관리**하여 **사용자와 커널 사이를 연결**하는 역할을 한다.
> 

### 커널이 하는일

1. 프로세스 관리 : 프로세스에 CPU를 배분하고 작업에 필요한 제반 환경을 제공한다,
2. 메모리 관리: 프로세스에 작업공간을 배치하고 실제 메모리보다 큰 가상공간을 제공한다.
3. 파일 시스템 관리: 데이터를 저장하고 접근 할 수 있는 인터페이스를 제공한다.
4. 입출력 관리: 필요한 입력과 출력 서비스를 제공한다.
5. 프로세스간 통신 관리: 공동 작업을 위한 각 프로세스 간  통신 환경을 지원한다.

### 커널의 분류

커널이 기능을 어떻게 구현하는가에 따라 분류된다

**단일형 구조 커널**

![](https://images.velog.io/images/pinoa1228/post/d882dfa4-a1df-43cd-927f-d4e27857c05a/image.png)

초창기 운영체제 구조로, 커널의 핵심 기능 모듈들이 구분없이 하나로 구성된 형태이다.(메인함수에 모든 기능을 구현한 형태와 비슷하다.)

ex) MS-DOS, VMS

**장점**

- 모듈 간의 통신 비용이 줄어들어 효율적인 운영이 가능하다.

**단점**

- 모듈들이 하나로 묶여 있기 때문에 버그나 오류를 처리하기 어렵다
- 기능상의 작은 결함이 시스템 전체로 확산 할 수 있다.
- 다양한 환경의 시스템을 적용하기 어렵다. 또한 수정이 용이하지 않다.

**계층형 구조 커널**

![](https://images.velog.io/images/pinoa1228/post/8737358c-adab-4eff-8e4e-bf53ff7272c0/image.png)

비슷한 기능을 가진 모듈을 묶어서 하나의 계층으로 만들어, 계층간의 통신을 통해 운영체제를 구현하는 방식이다.

ex)윈도우(요즘 운영체제가 대부분 계층형 구조 커널이다.)

**장점**

- 단일형에 비해 버그나 오류를 쉽게 처리할 수 있다.
- 오류가 발생 시 해당 계층만 수정하면 된다.

**단점**

- 계층이 존재하기 때문에 하나의 계층에서 문제가 발생하면 위, 아래 계층도 동작하지 않을 수 있다.
- 운영체제가 커지고 복잡해지면 많은 계층들이 발생하게 되어 커널의 크기도 커지고 하드웨어의 용량도 늘어난다.

**마이크로 구조 커널**
![](https://images.velog.io/images/pinoa1228/post/565c4c30-686c-4d2c-8b29-8fe8e1743348/image.png)

계층 구조의 문제로 인해 나타난 구조로 **프로세스 관리,메모리 관리,프로세스 통신 관리 등 가장 기본적인 기능만 제공**하고 **나머지 부분은 사용자 영역**에 구현되어 있다.

**장점**

- 각 모듈은 독립적으로 동작하여 하나의 모듈이 실패하더라도, 전체 운영체제가 멈추지 않는다.
- 많은 컴퓨터에 이식하기 쉽다.
- 커널이 가벼워 CPU 용량이 적은 시스템에 적용이 가능하다.

**단점**

- 모듈이 독립적으로 존재하여 모듈간 통신이 빈번하게 이루어져 성능이 저하될 수 있다.

**시스템 호출**

> 커널안에 위치하는 것으로 커널이 자신을 보호하기 위한 인터페이스이다.
> 
![](https://images.velog.io/images/pinoa1228/post/f1ab4919-5762-4d24-b1c8-937f06c91314/image.png)

운영체제와 사용자는 컴퓨터의 소프트웨어와 하드웨어의 자원을 공유하기 때문에 컴퓨터 중요 자원 및 핵심 코드에 접근하여 손상시킬 가능성이 있다.

 따라서 **컴퓨터 자원을 관리하는 커널모드**와 **소프트웨어를 실행하는 유저 모드**로 분리하여 컴퓨      터 자원에 대한 **적절한 접근만 커널모드**에서 처리한다.
 
![](https://images.velog.io/images/pinoa1228/post/196bc5f2-2e09-421d-a685-5a7edea2c547/image.png)

유저 모드에서 프로그램의 자원(커널 영역)에 접근해야하는 경우 **유저 모드에서 시스템 호출**을 통해 요청하면 **커널 모드로 넘어가** 요청에 대한 작업을 수행한 후 유저 모드로 돌아오게 한다.