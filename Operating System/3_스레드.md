# 스레드 

<br>

<details>
    <summary><b>스레드에 대해 설명해 주세요.</b></summary>
    <br>
    <b>프로세스 내에서 실행되는 흐름 단위</b>라고 할 수 있습니다. 일반적으로는 하나의 프로그램에 하나의 스레드가 있지만, 프로그램 환경에 따라 둘 이상의 스레드를 동시에 실행할 수 있으며, 이러한 실행 방식을 멀티스레드라고 합니다. 그리고 하나의 프로세스에 존재하는 스레드들은 코드·데이터·힙영역과 같은 메모리 자원을 공유하고, 제어정보·지역정보·스택영역이 독립적으로 할당됩니다.

</details>
<br>

<details>
    <summary><b>스레드의 구조에 대해 설명해주세요.</b></summary>
    <br>
    하나의 프로세스에 존재하는 스레드들은 코드·데이터·힙영역과 같은 메모리 자원을 공유하고, 제어정보·지역정보·스택영역이 독립적으로 할당되어있는 구조입니다.
</details>
<br>

<details>
    <summary><b>프로세서의 힙, 스택 영역에는 어떤 정보가 있나요?</b></summary>
    <br>
    힙영역에는 러타임 때에 할당되는 정보들이 있습니다. 자바 같은 경우 new 연산자를 사용할 경우가 하나의 예가 있습니다. 그리고 스택영역에서는 매개변수, 로컬변수, 리턴값, 복귀주소 등이 정보가 있습니다.

</details>
<br>

<details>
    <summary><b>스택을 스레드 마다 독립적으로 할당하는 이유가 무엇인가요?</b></summary>
    <br>
    스레드는 독립적인 실행 흐름을 가져야 하기 때문에 독립적인 함수 호출이 보장되어야 함으로 스레드마다 스택이 독립적으로 할당됩니다.
</details>
<br>

<details>
    <summary><b>멀티스레드의 장단점을 설명해주세요.</b></summary>
    <br>
    멀티 스레드의 장점은 3가지 입니다. 
    첫번째 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들어 <b>자원을 효율적으로 관리</b>할 수 있습니다. 두번째 하나의 프로세스 내에서 여러 스레드들이 작업을 하고 있기 때문에 스레드끼리 데이터를 주고 받는 것이 간단해져서 <b>시스템 자원 소모를 줄일 수</b> 있습니다. 마지막으로 스레드는 프로세스 내의 stack 영역을 제외한 모든 메모리를 공유하기 때문에 통신 부담이 적어서 <b>응답시간을 단축</b>할 수 있습니다. 
    <br><br>
    멀티 스레드의 단점으로는 <b>공유하는 자원에 동시에 접근하는 경우</b>, 프로세스와는 달리 스레드는 데이터와 힙 영역을 공유하기 때문에 어떤 스레드가 다른 스레드에서 사용 중인 변수나 자료구조에 접근하여 엉뚱한 값을 읽어오거나 수정할 수 있다는 문제점이 있습니다. <b>이를 방지하기 위해 동기화가 필요합니다.</b>

</details>
<br>

<details>
    <summary><b>멀티스레드와 멀티프로세스의 차이를 설명해 주세요.</b></summary>
    <br>
    멀티스레드는 적은 메모리 공간을 차지하고 context switch가 빠릅니다. 하지만 동기화 문제가 있고 하나의 스레드가 종료되면 전체 스레드가 종료될 수 있습니다. 
    <br> 
    그에 반에 멀티프로세스는 하나의 프로세스가 죽더라도 다른 프로세스에는 영향을 끼치지 않습니다. 하지만 많은 메모리 공간을 차지하고 CPU 점유 시간을 많이 차지합니다. 

</details>
<br>

<details>
    <summary><b>스레드와 프로세스의 차이를 설명해 주세요.</b></summary>
    <br>
    프로세스는 실행중인 프로그램을 뜻하며 <b>독립된 메모리 영역</b>을 가져 프로세스는 서로 침범할 수 없습니다. <br>
    스레드는 프로세스의 실행 단위로 프로세스 <b>메모리 영역 중 스택 영역을 제외한 부분을 공유</b>합니다.

</details>
<br>

<details>
    <summary><b>스레드 풀에 대해서 설명해주시요.</b></summary>
    <br>
    매번 생성 및 수거 요청이 올 때 스레드를 생성하고 수거하는 것이 아닌, 스레드 사용자가 설정해둔 개수만큼 미리 생성해두는 것을 스레드 풀이라고 합니다. 그렇기 때문에 갑자기 많은 양의 작업이 요청되어도 스레드의 전체개수가 늘어나지 않으므로 시스템 성능이 급격히 저하되는 것을 방지할 수 있습니다. 그러나 스레드 풀에 스레드를 너무 많이 생성해 두었다가 사용하지 않으면 메모리 낭비가 발생한다.

</details>